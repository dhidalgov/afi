import{Q as C}from"./QLinearProgress.b3bd56a7.js";import{Q as k,a as N,b as q}from"./QForm.1646e603.js";import{O as I,P,U as L,r as n,m as _,Q as S,n as U,R as B,j as a,p as o,F as E,S as c,V as $,W as f,X as v,Y as m,Z as p,_ as r,$ as A,a0 as F,a1 as R}from"./index.30038687.js";import{Q as T}from"./QPage.fb474075.js";import{_ as j}from"./default_logo.f361a844.js";import{L as z}from"./LayoutStore.022b0089.js";const H={class:"column"},O={class:"row"},K={__name:"LoginPage",setup(W){const y=z(),{currentInput:u}=I(y),Q=P(),x=L(),l=n({codigo:null,userName:null,password:null,deviceInfo:null}),g=n(null),i=n(!1),t=n(!1),d=n(!1),w=b=>new Promise(e=>setTimeout(e,b)),V=async()=>{l.value.deviceInfo=window.navigator.userAgent,g.value.validate()&&(i.value=!0,t.value=!0,await w(1200),await x.login(l.value)&&(i.value=!1,t.value=!1,await w(500),Q.push("/")),i.value=!1,t.value=!1)};return(b,e)=>(_(),S(E,null,[i.value?(_(),U(C,{key:0,indeterminate:""})):B("",!0),a(T,{class:"window-height window-width row justify-center items-center"},{default:o(()=>[c("div",H,[c("div",O,[a(k,{ref_key:"form",ref:g,class:"q-gutter-md",onSubmit:V},{default:o(()=>[a($,{bordered:"",class:"q-pa-xs q-pt-none shadow-2"},{default:o(()=>[a(f,{class:"text-center"},{default:o(()=>[a(N,{class:"rounded-borders",src:j,width:"70px","spinner-color":"white"})]),_:1}),a(f,{class:"q-gutter-xs"},{default:o(()=>[a(v,m(p(u),{modelValue:l.value.codigo,"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.codigo=s),type:"number",class:"force-left",label:"C\xF3digo de Empresa",rules:[s=>!!s||"El C\xF3digo de Empresa es requerido"]}),{prepend:o(()=>[a(r,{name:"account_balance"})]),append:o(()=>[a(r,{name:"close",onClick:e[0]||(e[0]=s=>l.value.codigo=""),class:"cursor-pointer"})]),_:1},16,["modelValue","rules"]),a(v,m(p(u),{modelValue:l.value.userName,"onUpdate:modelValue":e[3]||(e[3]=s=>l.value.userName=s),label:"Nombre de Usuario",rules:[s=>!!s||"El Nombre de Usuario es requerido"]}),{prepend:o(()=>[a(r,{name:"person"})]),append:o(()=>[a(r,{name:"close",onClick:e[2]||(e[2]=s=>l.value.userName=""),class:"cursor-pointer"})]),_:1},16,["modelValue","rules"]),a(v,m(p(u),{modelValue:l.value.password,"onUpdate:modelValue":e[6]||(e[6]=s=>l.value.password=s),type:d.value?"text":"password",label:"Contrase\xF1a",rules:[s=>!!s||"La Contrase\xF1a es requerida"]}),{prepend:o(()=>[a(r,{name:"lock"})]),append:o(()=>[a(r,{name:d.value?"visibility_off":"visibility",onClick:e[4]||(e[4]=s=>d.value=!d.value),class:"cursor-pointer"},null,8,["name"]),a(r,{name:"close",onClick:e[5]||(e[5]=s=>l.value.password=""),class:"cursor-pointer"})]),_:1},16,["modelValue","type","rules"])]),_:1}),a(A,{class:"q-px-md"},{default:o(()=>[a(F,m({color:"primary"},p(u),{loading:t.value,disable:t.value,type:"submit",icon:"key",size:"lg",class:"btn-fixed-width full-width",label:"Ingresar"}),{loading:o(()=>[a(q,{class:"on-left"}),e[7]||(e[7]=R(" Ingresando... "))]),_:1},16,["loading","disable"])]),_:1}),a(f,{class:"text-center q-pa-none"},{default:o(()=>e[8]||(e[8]=[c("p",{class:"text-grey-6"},"Not reigistered? created an Account",-1)])),_:1})]),_:1})]),_:1},512)])])]),_:1})],64))}};export{K as default};
