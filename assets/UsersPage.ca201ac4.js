import{F as Ue,g as Me,Q as de,a as Se,G as Re}from"./use-panel.221eb5c3.js";import{q as Ce,c as K,h as ee,v as Ie,g as pe,r as T,aX as Pe,ae as Be,aT as Ge,bE as Oe,ar as ze,bm as He,bo as Le,br as qe,bF as Ne,bs as _e,a_ as je,bn as Te,aW as We,O as Ee,w as Qe,m as ie,n as se,p as W,Z as X,av as Ve,aw as le,ax as Ae,j as G,ay as Ye,W as ge,_ as re,a1 as me,S as V,aC as ye,a0 as te,am as Xe,az as ve,R as ue,Q as Je,aL as Ke,Y as Z,X as ne,b9 as Ze,$ as $e,V as xe,aJ as et,o as tt,A as at,ba as he}from"./index.30038687.js";import{u as be,a as De,C as rt,g as nt,_ as it}from"./useUI.fee4d972.js";import{Q as ot}from"./QTable.4901add2.js";import{Q as st}from"./QPage.fb474075.js";import{u as lt}from"./vue-i18n.de0be2d9.js";import{Q as At}from"./QLinearProgress.b3bd56a7.js";import{Q as ut,b as ct,a as ft}from"./QForm.1646e603.js";import{L as Fe}from"./LayoutStore.022b0089.js";import"./QResizeObserver.621317a1.js";import"./QList.88e9efe9.js";import"./QMarkupTable.3de780bb.js";var ht=Ce({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(S,{slots:j}){const x=pe(),Q=K(()=>"q-td"+(S.autoWidth===!0?" q-table--col-auto-width":"")+(S.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(S.props===void 0)return ee("td",{class:Q.value},Ie(j.default));const k=x.vnode.key,w=(S.props.colsMap!==void 0?S.props.colsMap[k]:null)||S.props.col;if(w===void 0)return;const{row:d}=S.props;return ee("td",{class:Q.value+w.__tdClass(d),style:w.__tdStyle(d)},Ie(j.default))}}});function oe(S,j,x,Q){const k=[];return S.forEach(w=>{Q(w)===!0?k.push(w):j.push({failedPropValidation:x,file:w})}),k}function ce(S){S&&S.dataTransfer&&(S.dataTransfer.dropEffect="copy"),Be(S)}const dt={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},gt=["rejected"];function mt({editable:S,dnd:j,getFileInput:x,addFilesToQueue:Q}){const{props:k,emit:w,proxy:d}=pe(),r=T(null),a=K(()=>k.accept!==void 0?k.accept.split(",").map(i=>(i=i.trim(),i==="*"?"*/":(i.endsWith("/*")&&(i=i.slice(0,i.length-1)),i.toUpperCase()))):null),n=K(()=>parseInt(k.maxFiles,10)),s=K(()=>parseInt(k.maxTotalSize,10));function e(i){if(S.value)if(i!==Object(i)&&(i={target:null}),i.target!==null&&i.target.matches('input[type="file"]')===!0)i.clientX===0&&i.clientY===0&&Pe(i);else{const g=x();g&&g!==i.target&&g.click(i)}}function t(i){S.value&&i&&Q(null,i)}function I(i,g,B,M){let v=Array.from(g||i.target.files);const C=[],m=()=>{C.length!==0&&w("rejected",C)};if(k.accept!==void 0&&a.value.indexOf("*/")===-1&&(v=oe(v,C,"accept",b=>a.value.some(y=>b.type.toUpperCase().startsWith(y)||b.name.toUpperCase().endsWith(y))),v.length===0))return m();if(k.maxFileSize!==void 0){const b=parseInt(k.maxFileSize,10);if(v=oe(v,C,"max-file-size",y=>y.size<=b),v.length===0)return m()}if(k.multiple!==!0&&v.length!==0&&(v=[v[0]]),v.forEach(b=>{b.__key=b.webkitRelativePath+b.lastModified+b.name+b.size}),M===!0){const b=B.map(y=>y.__key);v=oe(v,C,"duplicate",y=>b.includes(y.__key)===!1)}if(v.length===0)return m();if(k.maxTotalSize!==void 0){let b=M===!0?B.reduce((y,E)=>y+E.size,0):0;if(v=oe(v,C,"max-total-size",y=>(b+=y.size,b<=s.value)),v.length===0)return m()}if(typeof k.filter=="function"){const b=k.filter(v);v=oe(v,C,"filter",y=>b.includes(y))}if(k.maxFiles!==void 0){let b=M===!0?B.length:0;if(v=oe(v,C,"max-files",()=>(b++,b<=n.value)),v.length===0)return m()}if(m(),v.length!==0)return v}function l(i){ce(i),j.value!==!0&&(j.value=!0)}function A(i){Be(i),(i.relatedTarget!==null||Ge.is.safari!==!0?i.relatedTarget!==r.value:document.elementsFromPoint(i.clientX,i.clientY).includes(r.value)===!1)===!0&&(j.value=!1)}function f(i){ce(i);const g=i.dataTransfer.files;g.length!==0&&Q(null,g),j.value=!1}function h(i){if(j.value===!0)return ee("div",{ref:r,class:`q-${i}__dnd absolute-full`,onDragenter:ce,onDragover:ce,onDragleave:A,onDrop:f})}return Object.assign(d,{pickFiles:e,addFiles:t}),{pickFiles:e,addFiles:t,onDragover:l,onDragleave:A,processFiles:I,getDndNode:h,maxFilesNumber:n,maxTotalSizeNumber:s}}var vt=Ce({name:"QFile",inheritAttrs:!1,props:{...Oe,...ze,...dt,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...He,...gt],setup(S,{slots:j,emit:x,attrs:Q}){const{proxy:k}=pe(),w=Le(),d=T(null),r=T(!1),a=qe(S),{pickFiles:n,onDragover:s,onDragleave:e,processFiles:t,getDndNode:I}=mt({editable:w.editable,dnd:r,getFileInput:O,addFilesToQueue:D}),l=Ne(S),A=K(()=>Object(S.modelValue)===S.modelValue?"length"in S.modelValue?Array.from(S.modelValue):[S.modelValue]:[]),f=K(()=>_e(A.value)),h=K(()=>A.value.map(u=>u.name).join(", ")),i=K(()=>Ue(A.value.reduce((u,c)=>u+c.size,0))),g=K(()=>({totalSize:i.value,filesNumber:A.value.length,maxFiles:S.maxFiles})),B=K(()=>({tabindex:-1,type:"file",title:"",accept:S.accept,capture:S.capture,name:a.value,...Q,id:w.targetUid.value,disabled:w.editable.value!==!0})),M=K(()=>"q-file q-field--auto-height"+(r.value===!0?" q-file--dnd":"")),v=K(()=>S.multiple===!0&&S.append===!0);function C(u){const c=A.value.slice();c.splice(u,1),b(c)}function m(u){const c=A.value.indexOf(u);c!==-1&&C(c)}function b(u){x("update:modelValue",S.multiple===!0?u:u[0])}function y(u){u.keyCode===13&&We(u)}function E(u){(u.keyCode===13||u.keyCode===32)&&n(u)}function O(){return d.value}function D(u,c){const _=t(u,c,A.value,v.value),p=O();p!=null&&(p.value=""),_!==void 0&&((S.multiple===!0?S.modelValue&&_.every(R=>A.value.includes(R)):S.modelValue===_[0])||b(v.value===!0?A.value.concat(_):_))}function q(){return[ee("input",{class:[S.inputClass,"q-file__filler"],style:S.inputStyle})]}function H(){if(j.file!==void 0)return A.value.length===0?q():A.value.map((c,_)=>j.file({index:_,file:c,ref:this}));if(j.selected!==void 0)return A.value.length===0?q():j.selected({files:A.value,ref:this});if(S.useChips===!0)return A.value.length===0?q():A.value.map((c,_)=>ee(Me,{key:"file-"+_,removable:w.editable.value,dense:!0,textColor:S.color,tabindex:S.tabindex,onRemove:()=>{C(_)}},()=>ee("span",{class:"ellipsis",textContent:c.name})));const u=S.displayValue!==void 0?S.displayValue:h.value;return u.length!==0?[ee("div",{class:S.inputClass,style:S.inputStyle,textContent:u})]:q()}function o(){const u={ref:d,...B.value,...l.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:D};return S.multiple===!0&&(u.multiple=!0),ee("input",u)}return Object.assign(w,{fieldClass:M,emitValue:b,hasValue:f,inputRef:d,innerValue:A,floatingLabel:K(()=>f.value===!0||_e(S.displayValue)),computedCounter:K(()=>{if(S.counterLabel!==void 0)return S.counterLabel(g.value);const u=S.maxFiles;return`${A.value.length}${u!==void 0?" / "+u:""} (${i.value})`}),getControlChild:()=>I("file"),getControl:()=>{const u={ref:w.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:S.tabindex};return w.editable.value===!0&&Object.assign(u,{onDragover:s,onDragleave:e,onKeydown:y,onKeyup:E}),ee("div",u,[o()].concat(H()))}}),Object.assign(k,{removeAtIndex:C,removeFile:m,getNativeElement:()=>d.value}),je(k,"nativeEl",()=>d.value),Te(w)}});function fe(S){throw new Error('Could not dynamically require "'+S+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ke={exports:{}};/*!

pica
https://github.com/nodeca/pica

*/(function(S,j){(function(x){S.exports=x()})(function(){return function(){function x(Q,k,w){function d(n,s){if(!k[n]){if(!Q[n]){var e=typeof fe=="function"&&fe;if(!s&&e)return e(n,!0);if(r)return r(n,!0);var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}var I=k[n]={exports:{}};Q[n][0].call(I.exports,function(l){var A=Q[n][1][l];return d(A||l)},I,I.exports,x,Q,k,w)}return k[n].exports}for(var r=typeof fe=="function"&&fe,a=0;a<w.length;a++)d(w[a]);return d}return x}()({1:[function(x,Q,k){var w=x("multimath"),d=x("./mm_unsharp_mask"),r=x("./mm_resize");function a(n){var s=n||[],e={js:s.indexOf("js")>=0,wasm:s.indexOf("wasm")>=0};w.call(this,e),this.features={js:e.js,wasm:e.wasm&&this.has_wasm()},this.use(d),this.use(r)}a.prototype=Object.create(w.prototype),a.prototype.constructor=a,a.prototype.resizeAndUnsharp=function(s,e){var t=this.resize(s,e);return s.unsharpAmount&&this.unsharp_mask(t,s.toWidth,s.toHeight,s.unsharpAmount,s.unsharpRadius,s.unsharpThreshold),t},Q.exports=a},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(x,Q,k){function w(e){return e<0?0:e>255?255:e}function d(e){return e>=0?e:0}function r(e,t,I,l,A,f){var h,i,g,B,M,v,C,m,b,y,E,O=0,D=0;for(b=0;b<l;b++){for(M=0,y=0;y<A;y++){for(v=f[M++],C=f[M++],m=O+v*4|0,h=i=g=B=0;C>0;C--)E=f[M++],B=B+E*e[m+3]|0,g=g+E*e[m+2]|0,i=i+E*e[m+1]|0,h=h+E*e[m]|0,m=m+4|0;t[D+3]=d(B>>7),t[D+2]=d(g>>7),t[D+1]=d(i>>7),t[D]=d(h>>7),D=D+l*4|0}D=(b+1)*4|0,O=(b+1)*I*4|0}}function a(e,t,I,l,A,f){var h,i,g,B,M,v,C,m,b,y,E,O=0,D=0;for(b=0;b<l;b++){for(M=0,y=0;y<A;y++){for(v=f[M++],C=f[M++],m=O+v*4|0,h=i=g=B=0;C>0;C--)E=f[M++],B=B+E*e[m+3]|0,g=g+E*e[m+2]|0,i=i+E*e[m+1]|0,h=h+E*e[m]|0,m=m+4|0;h>>=7,i>>=7,g>>=7,B>>=7,t[D+3]=w(B+(1<<13)>>14),t[D+2]=w(g+(1<<13)>>14),t[D+1]=w(i+(1<<13)>>14),t[D]=w(h+(1<<13)>>14),D=D+l*4|0}D=(b+1)*4|0,O=(b+1)*I*4|0}}function n(e,t,I,l,A,f){var h,i,g,B,M,v,C,m,b,y,E,O,D=0,q=0;for(y=0;y<l;y++){for(v=0,E=0;E<A;E++){for(C=f[v++],m=f[v++],b=D+C*4|0,h=i=g=B=0;m>0;m--)O=f[v++],M=e[b+3],B=B+O*M|0,g=g+O*e[b+2]*M|0,i=i+O*e[b+1]*M|0,h=h+O*e[b]*M|0,b=b+4|0;g=g/255|0,i=i/255|0,h=h/255|0,t[q+3]=d(B>>7),t[q+2]=d(g>>7),t[q+1]=d(i>>7),t[q]=d(h>>7),q=q+l*4|0}q=(y+1)*4|0,D=(y+1)*I*4|0}}function s(e,t,I,l,A,f){var h,i,g,B,M,v,C,m,b,y,E,O=0,D=0;for(b=0;b<l;b++){for(M=0,y=0;y<A;y++){for(v=f[M++],C=f[M++],m=O+v*4|0,h=i=g=B=0;C>0;C--)E=f[M++],B=B+E*e[m+3]|0,g=g+E*e[m+2]|0,i=i+E*e[m+1]|0,h=h+E*e[m]|0,m=m+4|0;h>>=7,i>>=7,g>>=7,B>>=7,B=w(B+(1<<13)>>14),B>0&&(h=h*255/B|0,i=i*255/B|0,g=g*255/B|0),t[D+3]=B,t[D+2]=w(g+(1<<13)>>14),t[D+1]=w(i+(1<<13)>>14),t[D]=w(h+(1<<13)>>14),D=D+l*4|0}D=(b+1)*4|0,O=(b+1)*I*4|0}}Q.exports={convolveHor:r,convolveVert:a,convolveHorWithPre:n,convolveVertWithPre:s}},{}],3:[function(x,Q,k){Q.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEYA2AGf39/f39/AGAAAGAIf39/f39/f38AAg8BA2VudgZtZW1vcnkCAAADBwYBAAAAAAIGBgF/AEEACweUAQgRX193YXNtX2NhbGxfY3RvcnMAAAtjb252b2x2ZUhvcgABDGNvbnZvbHZlVmVydAACEmNvbnZvbHZlSG9yV2l0aFByZQADE2NvbnZvbHZlVmVydFdpdGhQcmUABApjb252b2x2ZUhWAAUMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAKyA4GAwABC4wDARB/AkAgA0UNACAERQ0AIANBAnQhFQNAQQAhE0EAIQsDQCALQQJqIQcCfyALQQF0IAVqIgYuAQIiC0UEQEEAIQhBACEGQQAhCUEAIQogBwwBCyASIAYuAQBqIQhBACEJQQAhCiALIRRBACEOIAchBkEAIQ8DQCAFIAZBAXRqLgEAIhAgACAIQQJ0aigCACIRQRh2bCAPaiEPIBFB/wFxIBBsIAlqIQkgEUEQdkH/AXEgEGwgDmohDiARQQh2Qf8BcSAQbCAKaiEKIAhBAWohCCAGQQFqIQYgFEEBayIUDQALIAlBB3UhCCAKQQd1IQYgDkEHdSEJIA9BB3UhCiAHIAtqCyELIAEgDEEBdCIHaiAIQQAgCEEAShs7AQAgASAHQQJyaiAGQQAgBkEAShs7AQAgASAHQQRyaiAJQQAgCUEAShs7AQAgASAHQQZyaiAKQQAgCkEAShs7AQAgDCAVaiEMIBNBAWoiEyAERw0ACyANQQFqIg0gAmwhEiANQQJ0IQwgAyANRw0ACwsL2gMBD38CQCADRQ0AIARFDQAgAkECdCEUA0AgCyEMQQAhE0EAIQIDQCACQQJqIQYCfyACQQF0IAVqIgcuAQIiAkUEQEEAIQhBACEHQQAhCkEAIQkgBgwBCyAHLgEAQQJ0IBJqIQhBACEJIAIhCkEAIQ0gBiEHQQAhDkEAIQ8DQCAFIAdBAXRqLgEAIhAgACAIQQF0IhFqLwEAbCAJaiEJIAAgEUEGcmovAQAgEGwgDmohDiAAIBFBBHJqLwEAIBBsIA9qIQ8gACARQQJyai8BACAQbCANaiENIAhBBGohCCAHQQFqIQcgCkEBayIKDQALIAlBB3UhCCANQQd1IQcgDkEHdSEKIA9BB3UhCSACIAZqCyECIAEgDEECdGogB0GAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQQh0QYD+A3EgCUGAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQRB0QYCA/AdxIApBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG3I2AgAgAyAMaiEMIBNBAWoiEyAERw0ACyAUIAtBAWoiC2whEiADIAtHDQALCwuSAwEQfwJAIANFDQAgBEUNACADQQJ0IRUDQEEAIRNBACEGA0AgBkECaiEIAn8gBkEBdCAFaiIGLgECIgdFBEBBACEJQQAhDEEAIQ1BACEOIAgMAQsgEiAGLgEAaiEJQQAhDkEAIQ1BACEMIAchFEEAIQ8gCCEGA0AgBSAGQQF0ai4BACAAIAlBAnRqKAIAIhBBGHZsIhEgD2ohDyARIBBBEHZB/wFxbCAMaiEMIBEgEEEIdkH/AXFsIA1qIQ0gESAQQf8BcWwgDmohDiAJQQFqIQkgBkEBaiEGIBRBAWsiFA0ACyAPQQd1IQkgByAIagshBiABIApBAXQiCGogDkH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEECcmogDUH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEEcmogDEH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEGcmogCUEAIAlBAEobOwEAIAogFWohCiATQQFqIhMgBEcNAAsgC0EBaiILIAJsIRIgC0ECdCEKIAMgC0cNAAsLC4IEAQ9/AkAgA0UNACAERQ0AIAJBAnQhFANAIAshDEEAIRJBACEHA0AgB0ECaiEKAn8gB0EBdCAFaiICLgECIhNFBEBBACEIQQAhCUEAIQYgCiEHQQAMAQsgAi4BAEECdCARaiEJQQAhByATIQJBACENIAohBkEAIQ5BACEPA0AgBSAGQQF0ai4BACIIIAAgCUEBdCIQai8BAGwgB2ohByAAIBBBBnJqLwEAIAhsIA5qIQ4gACAQQQRyai8BACAIbCAPaiEPIAAgEEECcmovAQAgCGwgDWohDSAJQQRqIQkgBkEBaiEGIAJBAWsiAg0ACyAHQQd1IQggDUEHdSEJIA9BB3UhBiAKIBNqIQcgDkEHdQtBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKGyIKQf8BcQRAIAlB/wFsIAJtIQkgCEH/AWwgAm0hCCAGQf8BbCACbSEGCyABIAxBAnRqIAlBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EIdEGA/gNxIAZBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EQdEGAgPwHcSAKQRh0ciAIQYBAa0EOdSICQf8BIAJB/wFIGyICQQAgAkEAShtycjYCACADIAxqIQwgEkEBaiISIARHDQALIBQgC0EBaiILbCERIAMgC0cNAAsLC0AAIAcEQEEAIAIgAyAEIAUgABADIAJBACAEIAUgBiABEAQPC0EAIAIgAyAEIAUgABABIAJBACAEIAUgBiABEAIL"},{}],4:[function(x,Q,k){Q.exports={name:"resize",fn:x("./resize"),wasm_fn:x("./resize_wasm"),wasm_src:x("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(x,Q,k){var w=x("./resize_filter_gen"),d=x("./convolve"),r=d.convolveHor,a=d.convolveVert,n=d.convolveHorWithPre,s=d.convolveVertWithPre;function e(I,l,A){for(var f=3,h=l*A*4|0;f<h;){if(I[f]!==255)return!0;f=f+4|0}return!1}function t(I,l,A){for(var f=3,h=l*A*4|0;f<h;)I[f]=255,f=f+4|0}Q.exports=function(l){var A=l.src,f=l.width,h=l.height,i=l.toWidth,g=l.toHeight,B=l.scaleX||l.toWidth/l.width,M=l.scaleY||l.toHeight/l.height,v=l.offsetX||0,C=l.offsetY||0,m=l.dest||new Uint8Array(i*g*4),b=typeof l.filter=="undefined"?"mks2013":l.filter,y=w(b,f,i,B,v),E=w(b,h,g,M,C),O=new Uint16Array(i*h*4);return e(A,f,h)?(n(A,O,f,h,i,y),s(O,m,h,i,g,E)):(r(A,O,f,h,i,y),a(O,m,h,i,g,E),t(m,i,g)),m}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(x,Q,k){var w=x("./resize_filter_info"),d=14;function r(a){return Math.round(a*((1<<d)-1))}Q.exports=function(n,s,e,t,I){var l=w.filter[n].fn,A=1/t,f=Math.min(1,t),h=w.filter[n].win/f,i,g,B,M,v,C,m,b,y,E,O,D,q,H,o,u,c,_=Math.floor((h+1)*2),p=new Int16Array((_+2)*e),R=0,P=!p.subarray||!p.set;for(i=0;i<e;i++){for(g=(i+.5)*A+I,B=Math.max(0,Math.floor(g-h)),M=Math.min(s-1,Math.ceil(g+h)),v=M-B+1,C=new Float32Array(v),m=new Int16Array(v),b=0,y=B,E=0;y<=M;y++,E++)O=l((y+.5-g)*f),b+=O,C[E]=O;for(D=0,E=0;E<C.length;E++)q=C[E]/b,D+=q,m[E]=r(q);for(m[e>>1]+=r(1-D),H=0;H<m.length&&m[H]===0;)H++;if(H<m.length){for(o=m.length-1;o>0&&m[o]===0;)o--;if(u=B+H,c=o-H+1,p[R++]=u,p[R++]=c,!P)p.set(m.subarray(H,o+1),R),R+=c;else for(E=H;E<=o;E++)p[R++]=m[E]}else p[R++]=0,p[R++]=0}return p}},{"./resize_filter_info":7}],7:[function(x,Q,k){var w={box:{win:.5,fn:function(r){return r<0&&(r=-r),r<.5?1:0}},hamming:{win:1,fn:function(r){if(r<0&&(r=-r),r>=1)return 0;if(r<11920929e-14)return 1;var a=r*Math.PI;return Math.sin(a)/a*(.54+.46*Math.cos(a/1))}},lanczos2:{win:2,fn:function(r){if(r<0&&(r=-r),r>=2)return 0;if(r<11920929e-14)return 1;var a=r*Math.PI;return Math.sin(a)/a*Math.sin(a/2)/(a/2)}},lanczos3:{win:3,fn:function(r){if(r<0&&(r=-r),r>=3)return 0;if(r<11920929e-14)return 1;var a=r*Math.PI;return Math.sin(a)/a*Math.sin(a/3)/(a/3)}},mks2013:{win:2.5,fn:function(r){return r<0&&(r=-r),r>=2.5?0:r>=1.5?-.125*(r-2.5)*(r-2.5):r>=.5?.25*(4*r*r-11*r+7):1.0625-1.75*r*r}}};Q.exports={filter:w,f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(x,Q,k){var w=x("./resize_filter_gen");function d(e,t,I){for(var l=3,A=t*I*4|0;l<A;){if(e[l]!==255)return!0;l=l+4|0}return!1}function r(e,t,I){for(var l=3,A=t*I*4|0;l<A;)e[l]=255,l=l+4|0}function a(e){return new Uint8Array(e.buffer,0,e.byteLength)}var n=!0;try{n=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1}catch{}function s(e,t,I){if(n){t.set(a(e),I);return}for(var l=I,A=0;A<e.length;A++){var f=e[A];t[l++]=f&255,t[l++]=f>>8&255}}Q.exports=function(t){var I=t.src,l=t.width,A=t.height,f=t.toWidth,h=t.toHeight,i=t.scaleX||t.toWidth/t.width,g=t.scaleY||t.toHeight/t.height,B=t.offsetX||0,M=t.offsetY||0,v=t.dest||new Uint8Array(f*h*4),C=typeof t.filter=="undefined"?"mks2013":t.filter,m=w(C,l,f,i,B),b=w(C,A,h,g,M),y=0,E=Math.max(I.byteLength,v.byteLength),O=this.__align(y+E),D=A*f*4*2,q=this.__align(O+D),H=this.__align(q+m.byteLength),o=H+b.byteLength,u=this.__instance("resize",o),c=new Uint8Array(this.__memory.buffer),_=new Uint32Array(this.__memory.buffer),p=new Uint32Array(I.buffer);_.set(p),s(m,c,q),s(b,c,H);var R=u.exports.convolveHV||u.exports._convolveHV;d(I,l,A)?R(q,H,O,l,A,f,h,1):(R(q,H,O,l,A,f,h,0),r(v,f,h));var P=new Uint32Array(v.buffer);return P.set(new Uint32Array(this.__memory.buffer,0,h*f)),v}},{"./resize_filter_gen":6}],9:[function(x,Q,k){Q.exports={name:"unsharp_mask",fn:x("./unsharp_mask"),wasm_fn:x("./unsharp_mask_wasm"),wasm_src:x("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(x,Q,k){var w=x("glur/mono16");function d(r,a,n){for(var s=a*n,e=new Uint16Array(s),t,I,l,A,f=0;f<s;f++)t=r[4*f],I=r[4*f+1],l=r[4*f+2],A=t>=I&&t>=l?t:I>=l&&I>=t?I:l,e[f]=A<<8;return e}Q.exports=function(a,n,s,e,t,I){var l,A,f,h,i;if(!(e===0||t<.5)){t>2&&(t=2);var g=d(a,n,s),B=new Uint16Array(g);w(B,n,s,t);for(var M=e/100*4096+.5|0,v=I<<8,C=n*s,m=0;m<C;m++)l=g[m],h=l-B[m],Math.abs(h)>=v&&(A=l+(M*h+2048>>12),A=A>65280?65280:A,A=A<0?0:A,l=l!==0?l:1,f=(A<<12)/l|0,i=m*4,a[i]=a[i]*f+2048>>12,a[i+1]=a[i+1]*f+2048>>12,a[i+2]=a[i+2]*f+2048>>12)}}},{"glur/mono16":18}],11:[function(x,Q,k){Q.exports=function(d,r,a,n,s,e){if(!(n===0||s<.5)){s>2&&(s=2);var t=r*a,I=t*4,l=t*2,A=t*2,f=Math.max(r,a)*4,h=8*4,i=0,g=I,B=g+l,M=B+A,v=M+A,C=v+f,m=this.__instance("unsharp_mask",I+l+A*2+f+h,{exp:Math.exp}),b=new Uint32Array(d.buffer),y=new Uint32Array(this.__memory.buffer);y.set(b);var E=m.exports.hsv_v16||m.exports._hsv_v16;E(i,g,r,a),E=m.exports.blurMono16||m.exports._blurMono16,E(g,B,M,v,C,r,a,s),E=m.exports.unsharp||m.exports._unsharp,E(i,i,g,B,r,a,n,e),b.set(new Uint32Array(this.__memory.buffer,0,t))}}},{}],12:[function(x,Q,k){Q.exports="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"},{}],13:[function(x,Q,k){var w=100;function d(r,a){this.create=r,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=a||2e3}d.prototype.acquire=function(){var r=this,a;return this.available.length!==0?a=this.available.pop():(a=this.create(),a.id=this.lastId++,a.release=function(){return r.release(a)}),this.acquired[a.id]=a,a},d.prototype.release=function(r){var a=this;delete this.acquired[r.id],r.lastUsed=Date.now(),this.available.push(r),this.timeoutId===0&&(this.timeoutId=setTimeout(function(){return a.gc()},w))},d.prototype.gc=function(){var r=this,a=Date.now();this.available=this.available.filter(function(n){return a-n.lastUsed>r.idle?(n.destroy(),!1):!0}),this.available.length!==0?this.timeoutId=setTimeout(function(){return r.gc()},w):this.timeoutId=0},Q.exports=d},{}],14:[function(x,Q,k){var w=2;Q.exports=function(r,a,n,s,e,t){var I=n/r,l=s/a,A=(2*t+w+1)/e;if(A>.5)return[[n,s]];var f=Math.ceil(Math.log(Math.min(I,l))/Math.log(A));if(f<=1)return[[n,s]];for(var h=[],i=0;i<f;i++){var g=Math.round(Math.pow(Math.pow(r,f-i-1)*Math.pow(n,i+1),1/f)),B=Math.round(Math.pow(Math.pow(a,f-i-1)*Math.pow(s,i+1),1/f));h.push([g,B])}return h}},{}],15:[function(x,Q,k){var w=1e-5;function d(a){var n=Math.round(a);return Math.abs(a-n)<w?n:Math.floor(a)}function r(a){var n=Math.round(a);return Math.abs(a-n)<w?n:Math.ceil(a)}Q.exports=function(n){var s=n.toWidth/n.width,e=n.toHeight/n.height,t=d(n.srcTileSize*s)-2*n.destTileBorder,I=d(n.srcTileSize*e)-2*n.destTileBorder;if(t<1||I<1)throw new Error("Internal error in pica: target tile width/height is too small.");var l,A,f,h,i,g,B=[],M;for(h=0;h<n.toHeight;h+=I)for(f=0;f<n.toWidth;f+=t)l=f-n.destTileBorder,l<0&&(l=0),i=f+t+n.destTileBorder-l,l+i>=n.toWidth&&(i=n.toWidth-l),A=h-n.destTileBorder,A<0&&(A=0),g=h+I+n.destTileBorder-A,A+g>=n.toHeight&&(g=n.toHeight-A),M={toX:l,toY:A,toWidth:i,toHeight:g,toInnerX:f,toInnerY:h,toInnerWidth:t,toInnerHeight:I,offsetX:l/s-d(l/s),offsetY:A/e-d(A/e),scaleX:s,scaleY:e,x:d(l/s),y:d(A/e),width:r(i/s),height:r(g/e)},B.push(M);return B}},{}],16:[function(x,Q,k){function w(d){return Object.prototype.toString.call(d)}Q.exports.isCanvas=function(r){var a=w(r);return a==="[object HTMLCanvasElement]"||a==="[object OffscreenCanvas]"||a==="[object Canvas]"},Q.exports.isImage=function(r){return w(r)==="[object HTMLImageElement]"},Q.exports.isImageBitmap=function(r){return w(r)==="[object ImageBitmap]"},Q.exports.limiter=function(r){var a=0,n=[];function s(){a<r&&n.length&&(a++,n.shift()())}return function(t){return new Promise(function(I,l){n.push(function(){t().then(function(A){I(A),a--,s()},function(A){l(A),a--,s()})}),s()})}},Q.exports.cib_quality_name=function(r){switch(r){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},Q.exports.cib_support=function(r){return Promise.resolve().then(function(){if(typeof createImageBitmap=="undefined")return!1;var a=r(100,100);return createImageBitmap(a,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(n){var s=n.width===10;return n.close(),a=null,s})}).catch(function(){return!1})},Q.exports.worker_offscreen_canvas_support=function(){return new Promise(function(r,a){if(typeof OffscreenCanvas=="undefined"){r(!1);return}function n(t){if(typeof createImageBitmap=="undefined"){t.postMessage(!1);return}Promise.resolve().then(function(){var I=new OffscreenCanvas(10,10),l=I.getContext("2d");return l.rect(0,0,1,1),createImageBitmap(I,0,0,1,1)}).then(function(){return t.postMessage(!0)},function(){return t.postMessage(!1)})}var s=btoa("(".concat(n.toString(),")(self);")),e=new Worker("data:text/javascript;base64,".concat(s));e.onmessage=function(t){return r(t.data)},e.onerror=a}).then(function(r){return r},function(){return!1})},Q.exports.can_use_canvas=function(r){var a=!1;try{var n=r(2,1),s=n.getContext("2d"),e=s.createImageData(2,1);e.data[0]=12,e.data[1]=23,e.data[2]=34,e.data[3]=255,e.data[4]=45,e.data[5]=56,e.data[6]=67,e.data[7]=255,s.putImageData(e,0,0),e=null,e=s.getImageData(0,0,2,1),e.data[0]===12&&e.data[1]===23&&e.data[2]===34&&e.data[3]===255&&e.data[4]===45&&e.data[5]===56&&e.data[6]===67&&e.data[7]===255&&(a=!0)}catch{}return a},Q.exports.cib_can_use_region=function(){return new Promise(function(r){if(typeof Image=="undefined"||typeof createImageBitmap=="undefined"){r(!1);return}var a=new Image;a.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",a.onload=function(){createImageBitmap(a,0,0,a.width,a.height).then(function(n){n.width===a.width&&n.height===a.height?r(!0):r(!1)},function(){return r(!1)})},a.onerror=function(){return r(!1)}})}},{}],17:[function(x,Q,k){Q.exports=function(){var w=x("./mathlib"),d;onmessage=function(a){var n=a.data.opts;if(!n.src&&n.srcBitmap){var s=new OffscreenCanvas(n.width,n.height),e=s.getContext("2d");e.drawImage(n.srcBitmap,0,0),n.src=e.getImageData(0,0,n.width,n.height).data,s.width=s.height=0,s=null,n.srcBitmap.close(),n.srcBitmap=null}d||(d=new w(a.data.features));var t=d.resizeAndUnsharp(n);postMessage({data:t},[t.buffer])}}},{"./mathlib":1}],18:[function(x,Q,k){var w,d,r,a,n,s,e,t;function I(f){f<.5&&(f=.5);var h=Math.exp(.726*.726)/f,i=Math.exp(-h),g=Math.exp(-2*h),B=(1-i)*(1-i)/(1+2*h*i-g);return w=B,d=B*(h-1)*i,r=B*(h+1)*i,a=-B*g,n=2*i,s=-g,e=(w+d)/(1-n-s),t=(r+a)/(1-n-s),new Float32Array([w,d,r,a,n,s,e,t])}function l(f,h,i,g,B,M){var v,C,m,b,y,E,O,D,q,H,o,u,c,_;for(q=0;q<M;q++){for(E=q*B,O=q,D=0,v=f[E],y=v*g[6],b=y,o=g[0],u=g[1],c=g[4],_=g[5],H=0;H<B;H++)C=f[E],m=C*o+v*u+b*c+y*_,y=b,b=m,v=C,i[D]=b,D++,E++;for(E--,D--,O+=M*(B-1),v=f[E],y=v*g[7],b=y,C=v,o=g[2],u=g[3],H=B-1;H>=0;H--)m=C*o+v*u+b*c+y*_,y=b,b=m,v=C,C=f[E],h[O]=i[D]+b,E--,D--,O-=M}}function A(f,h,i,g){if(!!g){var B=new Uint16Array(f.length),M=new Float32Array(Math.max(h,i)),v=I(g);l(f,B,M,v,h,i),l(B,f,M,v,i,h)}}Q.exports=A},{}],19:[function(x,Q,k){var w=x("object-assign"),d=x("./lib/base64decode"),r=x("./lib/wa_detect"),a={js:!0,wasm:!0};function n(s){if(!(this instanceof n))return new n(s);var e=w({},a,s||{});if(this.options=e,this.__cache={},this.__init_promise=null,this.__modules=e.modules||{},this.__memory=null,this.__wasm={},this.__isLE=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1,!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}n.prototype.has_wasm=r,n.prototype.use=function(s){return this.__modules[s.name]=s,this.options.wasm&&this.has_wasm()&&s.wasm_fn?this[s.name]=s.wasm_fn:this[s.name]=s.fn,this},n.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error(`mathlib: only "wasm" was enabled, but it's not supported`));var s=this;return this.__init_promise=Promise.all(Object.keys(s.__modules).map(function(e){var t=s.__modules[e];return!s.options.wasm||!s.has_wasm()||!t.wasm_fn||s.__wasm[e]?null:WebAssembly.compile(s.__base64decode(t.wasm_src)).then(function(I){s.__wasm[e]=I})})).then(function(){return s}),this.__init_promise},n.prototype.__base64decode=d,n.prototype.__reallocate=function(e){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(e/(64*1024))}),this.__memory;var t=this.__memory.buffer.byteLength;return t<e&&this.__memory.grow(Math.ceil((e-t)/(64*1024))),this.__memory},n.prototype.__instance=function(e,t,I){if(t&&this.__reallocate(t),!this.__wasm[e]){var l=this.__modules[e];this.__wasm[e]=new WebAssembly.Module(this.__base64decode(l.wasm_src))}if(!this.__cache[e]){var A={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[e]=new WebAssembly.Instance(this.__wasm[e],{env:w(A,I||{})})}return this.__cache[e]},n.prototype.__align=function(e,t){t=t||8;var I=e%t;return e+(I?t-I:0)},Q.exports=n},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(x,Q,k){var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";Q.exports=function(r){for(var a=r.replace(/[\r\n=]/g,""),n=a.length,s=new Uint8Array(n*3>>2),e=0,t=0,I=0;I<n;I++)I%4===0&&I&&(s[t++]=e>>16&255,s[t++]=e>>8&255,s[t++]=e&255),e=e<<6|w.indexOf(a.charAt(I));var l=n%4*6;return l===0?(s[t++]=e>>16&255,s[t++]=e>>8&255,s[t++]=e&255):l===18?(s[t++]=e>>10&255,s[t++]=e>>2&255):l===12&&(s[t++]=e>>4&255),s}},{}],21:[function(x,Q,k){var w;Q.exports=function(){if(typeof w!="undefined"||(w=!1,typeof WebAssembly=="undefined"))return w;try{var r=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),a=new WebAssembly.Module(r),n=new WebAssembly.Instance(a,{});return n.exports.test(4)!==0&&(w=!0),w}catch{}return w}},{}],22:[function(x,Q,k){var w=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function n(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var I=Object.getOwnPropertyNames(e).map(function(A){return e[A]});if(I.join("")!=="0123456789")return!1;var l={};return"abcdefghijklmnopqrst".split("").forEach(function(A){l[A]=A}),Object.keys(Object.assign({},l)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Q.exports=n()?Object.assign:function(s,e){for(var t,I=a(s),l,A=1;A<arguments.length;A++){t=Object(arguments[A]);for(var f in t)d.call(t,f)&&(I[f]=t[f]);if(w){l=w(t);for(var h=0;h<l.length;h++)r.call(t,l[h])&&(I[l[h]]=t[l[h]])}}return I}},{}],23:[function(x,Q,k){var w=arguments[3],d=arguments[4],r=arguments[5],a=JSON.stringify;Q.exports=function(n,s){for(var e,t=Object.keys(r),I=0,l=t.length;I<l;I++){var A=t[I],f=r[A].exports;if(f===n||f&&f.default===n){e=A;break}}if(!e){e=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var h={},I=0,l=t.length;I<l;I++){var A=t[I];h[A]=A}d[e]=["function(require,module,exports){"+n+"(self); }",h]}var i=Math.floor(Math.pow(16,8)*Math.random()).toString(16),g={};g[e]=e,d[i]=["function(require,module,exports){var f = require("+a(e)+");(f.default ? f.default : f)(self);}",g];var B={};M(i);function M(E){B[E]=!0;for(var O in d[E][1]){var D=d[E][1][O];B[D]||M(D)}}var v="("+w+")({"+Object.keys(B).map(function(E){return a(E)+":["+d[E][0]+","+a(d[E][1])+"]"}).join(",")+"},{},["+a(i)+"])",C=window.URL||window.webkitURL||window.mozURL||window.msURL,m=new Blob([v],{type:"text/javascript"});if(s&&s.bare)return m;var b=C.createObjectURL(m),y=new Worker(b);return y.objectURL=b,y}},{}],"/index.js":[function(x,Q,k){function w(o,u){return s(o)||n(o,u)||r(o,u)||d()}function d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(o,u){if(!!o){if(typeof o=="string")return a(o,u);var c=Object.prototype.toString.call(o).slice(8,-1);if(c==="Object"&&o.constructor&&(c=o.constructor.name),c==="Map"||c==="Set")return Array.from(o);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return a(o,u)}}function a(o,u){(u==null||u>o.length)&&(u=o.length);for(var c=0,_=new Array(u);c<u;c++)_[c]=o[c];return _}function n(o,u){var c=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(c!=null){var _=[],p=!0,R=!1,P,z;try{for(c=c.call(o);!(p=(P=c.next()).done)&&(_.push(P.value),!(u&&_.length===u));p=!0);}catch(F){R=!0,z=F}finally{try{!p&&c.return!=null&&c.return()}finally{if(R)throw z}}return _}}function s(o){if(Array.isArray(o))return o}var e=x("object-assign"),t=x("webworkify"),I=x("./lib/mathlib"),l=x("./lib/pool"),A=x("./lib/utils"),f=x("./lib/worker"),h=x("./lib/stepper"),i=x("./lib/tiler"),g=x("./lib/mm_resize/resize_filter_info"),B={},M=!1;try{typeof navigator!="undefined"&&navigator.userAgent&&(M=navigator.userAgent.indexOf("Safari")>=0)}catch{}var v=1;typeof navigator!="undefined"&&(v=Math.min(navigator.hardwareConcurrency||1,4));var C={tile:1024,concurrency:v,features:["js","wasm","ww"],idle:2e3,createCanvas:function(u,c){var _=document.createElement("canvas");return _.width=u,_.height=c,_}},m={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},b=!1,y=!1,E=!1,O=!1,D=!1;function q(){return{value:t(f),destroy:function(){if(this.value.terminate(),typeof window!="undefined"){var u=window.URL||window.webkitURL||window.mozURL||window.msURL;u&&u.revokeObjectURL&&this.value.objectURL&&u.revokeObjectURL(this.value.objectURL)}}}}function H(o){if(!(this instanceof H))return new H(o);this.options=e({},C,o||{});var u="lk_".concat(this.options.concurrency);this.__limit=B[u]||A.limiter(this.options.concurrency),B[u]||(B[u]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}H.prototype.init=function(){var o=this;if(this.__initPromise)return this.__initPromise;if(typeof ImageData!="undefined"&&typeof Uint8ClampedArray!="undefined")try{new ImageData(new Uint8ClampedArray(400),10,10),b=!0}catch{}typeof ImageBitmap!="undefined"&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?y=!0:this.debug("ImageBitmap does not support .close(), disabled"));var u=this.options.features.slice();if(u.indexOf("all")>=0&&(u=["cib","wasm","js","ww"]),this.__requested_features=u,this.__mathlib=new I(u),u.indexOf("ww")>=0&&typeof window!="undefined"&&"Worker"in window)try{var c=x("webworkify")(function(){});c.terminate(),this.features.ww=!0;var _="wp_".concat(JSON.stringify(this.options));B[_]?this.__workersPool=B[_]:(this.__workersPool=new l(q,this.options.idle),B[_]=this.__workersPool)}catch{}var p=this.__mathlib.init().then(function(F){e(o.features,F.features)}),R;y?R=A.cib_support(this.options.createCanvas).then(function(F){if(o.features.cib&&u.indexOf("cib")<0){o.debug("createImageBitmap() resize supported, but disabled by config");return}u.indexOf("cib")>=0&&(o.features.cib=F)}):R=Promise.resolve(!1),E=A.can_use_canvas(this.options.createCanvas);var P;y&&b&&u.indexOf("ww")!==-1?P=A.worker_offscreen_canvas_support():P=Promise.resolve(!1),P=P.then(function(F){O=F});var z=A.cib_can_use_region().then(function(F){D=F});return this.__initPromise=Promise.all([p,R,P,z]).then(function(){return o}),this.__initPromise},H.prototype.__invokeResize=function(o,u){var c=this;return u.__mathCache=u.__mathCache||{},Promise.resolve().then(function(){return c.features.ww?new Promise(function(_,p){var R=c.__workersPool.acquire();u.cancelToken&&u.cancelToken.catch(function(z){return p(z)}),R.value.onmessage=function(z){R.release(),z.data.err?p(z.data.err):_(z.data)};var P=[];o.src&&P.push(o.src.buffer),o.srcBitmap&&P.push(o.srcBitmap),R.value.postMessage({opts:o,features:c.__requested_features,preload:{wasm_nodule:c.__mathlib.__}},P)}):{data:c.__mathlib.resizeAndUnsharp(o,u.__mathCache)}})},H.prototype.__extractTileData=function(o,u,c,_,p){if(this.features.ww&&O&&(A.isCanvas(u)||D))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(_.srcImageBitmap||u,o.x,o.y,o.width,o.height).then(function(z){return p.srcBitmap=z,p});if(A.isCanvas(u))return _.srcCtx||(_.srcCtx=u.getContext("2d")),this.debug("Get tile pixel data"),p.src=_.srcCtx.getImageData(o.x,o.y,o.width,o.height).data,p;this.debug("Draw tile imageBitmap/image to temporary canvas");var R=this.options.createCanvas(o.width,o.height),P=R.getContext("2d");return P.globalCompositeOperation="copy",P.drawImage(_.srcImageBitmap||u,o.x,o.y,o.width,o.height,0,0,o.width,o.height),this.debug("Get tile pixel data"),p.src=P.getImageData(0,0,o.width,o.height).data,R.width=R.height=0,p},H.prototype.__landTileData=function(o,u,c){var _;if(this.debug("Convert raw rgba tile result to ImageData"),u.bitmap)return c.toCtx.drawImage(u.bitmap,o.toX,o.toY),null;if(b)_=new ImageData(new Uint8ClampedArray(u.data),o.toWidth,o.toHeight);else if(_=c.toCtx.createImageData(o.toWidth,o.toHeight),_.data.set)_.data.set(u.data);else for(var p=_.data.length-1;p>=0;p--)_.data[p]=u.data[p];return this.debug("Draw tile"),M?c.toCtx.putImageData(_,o.toX,o.toY,o.toInnerX-o.toX,o.toInnerY-o.toY,o.toInnerWidth+1e-5,o.toInnerHeight+1e-5):c.toCtx.putImageData(_,o.toX,o.toY,o.toInnerX-o.toX,o.toInnerY-o.toY,o.toInnerWidth,o.toInnerHeight),null},H.prototype.__tileAndResize=function(o,u,c){var _=this,p={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null},R=function(z){return _.__limit(function(){if(c.canceled)return c.cancelToken;var F={width:z.width,height:z.height,toWidth:z.toWidth,toHeight:z.toHeight,scaleX:z.scaleX,scaleY:z.scaleY,offsetX:z.offsetX,offsetY:z.offsetY,filter:c.filter,unsharpAmount:c.unsharpAmount,unsharpRadius:c.unsharpRadius,unsharpThreshold:c.unsharpThreshold};return _.debug("Invoke resize math"),Promise.resolve(F).then(function(U){return _.__extractTileData(z,o,c,p,U)}).then(function(U){return _.debug("Invoke resize math"),_.__invokeResize(U,c)}).then(function(U){return c.canceled?c.cancelToken:(p.srcImageData=null,_.__landTileData(z,U,p))})})};return Promise.resolve().then(function(){if(p.toCtx=u.getContext("2d"),A.isCanvas(o))return null;if(A.isImageBitmap(o))return p.srcImageBitmap=o,p.isImageBitmapReused=!0,null;if(A.isImage(o))return y?(_.debug("Decode image via createImageBitmap"),createImageBitmap(o).then(function(P){p.srcImageBitmap=P}).catch(function(P){return null})):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(c.canceled)return c.cancelToken;_.debug("Calculate tiles");var P=i({width:c.width,height:c.height,srcTileSize:_.options.tile,toWidth:c.toWidth,toHeight:c.toHeight,destTileBorder:c.__destTileBorder}),z=P.map(function(U){return R(U)});function F(U){U.srcImageBitmap&&(U.isImageBitmapReused||U.srcImageBitmap.close(),U.srcImageBitmap=null)}return _.debug("Process tiles"),Promise.all(z).then(function(){return _.debug("Finished!"),F(p),u},function(U){throw F(p),U})})},H.prototype.__processStages=function(o,u,c,_){var p=this;if(_.canceled)return _.cancelToken;var R=o.shift(),P=w(R,2),z=P[0],F=P[1],U=o.length===0,L;U||g.q2f.indexOf(_.filter)<0?L=_.filter:_.filter==="box"?L="box":L="hamming",_=e({},_,{toWidth:z,toHeight:F,filter:L});var N;return U||(N=this.options.createCanvas(z,F)),this.__tileAndResize(u,U?c:N,_).then(function(){return U?c:(_.width=z,_.height=F,p.__processStages(o,N,c,_))}).then(function(Y){return N&&(N.width=N.height=0),Y})},H.prototype.__resizeViaCreateImageBitmap=function(o,u,c){var _=this,p=u.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(o,{resizeWidth:c.toWidth,resizeHeight:c.toHeight,resizeQuality:A.cib_quality_name(g.f2q[c.filter])}).then(function(R){if(c.canceled)return c.cancelToken;if(!c.unsharpAmount)return p.drawImage(R,0,0),R.close(),p=null,_.debug("Finished!"),u;_.debug("Unsharp result");var P=_.options.createCanvas(c.toWidth,c.toHeight),z=P.getContext("2d");z.drawImage(R,0,0),R.close();var F=z.getImageData(0,0,c.toWidth,c.toHeight);return _.__mathlib.unsharp_mask(F.data,c.toWidth,c.toHeight,c.unsharpAmount,c.unsharpRadius,c.unsharpThreshold),p.putImageData(F,0,0),P.width=P.height=0,F=z=P=p=null,_.debug("Finished!"),u})},H.prototype.resize=function(o,u,c){var _=this;this.debug("Start resize...");var p=e({},m);if(isNaN(c)?c&&(p=e(p,c)):p=e(p,{quality:c}),p.toWidth=u.width,p.toHeight=u.height,p.width=o.naturalWidth||o.width,p.height=o.naturalHeight||o.height,Object.prototype.hasOwnProperty.call(p,"quality")){if(p.quality<0||p.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(p.quality));p.filter=g.q2f[p.quality]}if(u.width===0||u.height===0)return Promise.reject(new Error("Invalid output size: ".concat(u.width,"x").concat(u.height)));p.unsharpRadius>2&&(p.unsharpRadius=2),p.canceled=!1,p.cancelToken&&(p.cancelToken=p.cancelToken.then(function(P){throw p.canceled=!0,P},function(P){throw p.canceled=!0,P}));var R=3;return p.__destTileBorder=Math.ceil(Math.max(R,2.5*p.unsharpRadius|0)),this.init().then(function(){if(p.canceled)return p.cancelToken;if(_.features.cib){if(g.q2f.indexOf(p.filter)>=0)return _.__resizeViaCreateImageBitmap(o,u,p);_.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!E){var P=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw P.code="ERR_GET_IMAGE_DATA",P}var z=h(p.width,p.height,p.toWidth,p.toHeight,_.options.tile,p.__destTileBorder);return _.__processStages(z,o,u,p)})},H.prototype.resizeBuffer=function(o){var u=this,c=e({},m,o);if(Object.prototype.hasOwnProperty.call(c,"quality")){if(c.quality<0||c.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(c.quality));c.filter=g.q2f[c.quality]}return this.init().then(function(){return u.__mathlib.resizeAndUnsharp(c)})},H.prototype.toBlob=function(o,u,c){return u=u||"image/png",new Promise(function(_){if(o.toBlob){o.toBlob(function(F){return _(F)},u,c);return}if(o.convertToBlob){_(o.convertToBlob({type:u,quality:c}));return}for(var p=atob(o.toDataURL(u,c).split(",")[1]),R=p.length,P=new Uint8Array(R),z=0;z<R;z++)P[z]=p.charCodeAt(z);_(new Blob([P],{type:u}))})},H.prototype.debug=function(){},Q.exports=H},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")})})(ke);var pt=ke.exports;const It={class:"text-subtitle1"},_t={key:0,class:"overlay"},bt={class:"q-gutter-xs"},wt={class:"text-center q-pb-sm"},we={__name:"UserComponent",props:{usuarioId:Number,accion:String},emits:[...be.emits],setup(S){const{humanStorageSize:j}=Re,x=Fe(),{configUI:Q}=De(),{currentInput:k,curLang:w}=Ee(x),d=S,r=T(d.usuarioId),a=T(d.accion),n=T(!1),s=T(""),e=T(""),t=T([]),I=T(null),l=T(!1),A=T([]),f=T(null),h=T(1024*1024*2),i=T(null),{dialogRef:g,onDialogHide:B,onDialogOK:M,onDialogCancel:v}=be(),C=[F=>F!=null&&F!=""],m=[F=>F!=null&&F!=""||"Debe ingresar la contrase\xF1a",F=>F.length>=5||"La contrase\xF1a debe ser de 5 caracteres o m\xE1s"],b=[F=>F!=null&&F!=""||"Debe ingresar la contrase\xF1a",F=>s.value==e.value||"Las contrase\xF1as debe ser iguales"],y=[F=>F!=null&&F!=""||"Debe ingresar un nombre de usuario",async F=>{let U=await le.get(`/api/user/valid_username/${F}`);E.value=U.data?{error:!1,message:null}:{error:!0,message:"Nombre de usuario ya existe. Eliga otro, por favor."}}],E=T({error:!1,message:null}),O=F=>{F!=null&&F.forEach(U=>{let L="max-file-size";if(U.failedPropValidation==L){let N=`El archivo <b>${U.file.name}</b> pesa <b>${j(U.file.size)}</b> el cual supera el limte m\xE1ximo de ${j(h.value)}`;Ae.create({message:`${N}`,html:!0,color:"negative",icon:"error",position:"top",actions:[{icon:"close",color:"white",round:!0,handler:()=>{}}]})}}),console.warn(F)},D=T({usuarioId:null,empresaId:null,userName:null,password:null,nombreCompleto:null,email:null,joinDate:null,sessionExpire:null,cargo:null,telefono:null,rol:null,profilePic:{loaded:!1,thumbnail:"https://no.image.available/thumbnail.png",original:"https://no.image.available/thumbnail.png"}}),q=T({thumbnail:null,original:null}),H=async()=>{i.value.pickFiles()},o=async F=>{var U=t.value.filter(L=>F.includes(L.rolId));D.value.rol=U},u=async F=>{D.value.password=F};T(!1);const c=async()=>{var F,U,L;l.value=!0;try{if(a.value=="Editar"){let $=(await le.get(`/api/user/me/${r.value}`)).data;$.profilePic==null?$.profilePic={loaded:!1,thumbnail:"https://no.image.available/thumbnail.png",original:"https://no.image.available/thumbnail.png"}:$.profilePic.loaded=!0,D.value=$,A.value=$.rol.map(ae=>ae.rolId)}let Y=(await le.get("/api/user/related")).data;t.value=Y.roles,l.value=!1}catch(N){l.value=!1;let Y=(L=(U=(F=N.response)==null?void 0:F.data)==null?void 0:U.detail)!=null?L:N.message;Ae.create({message:`${Y}`,html:!0,color:"negative",icon:"error",position:"top",actions:[{icon:"close",color:"white",round:!0,handler:()=>{}}]})}},_=async()=>{var F,U,L;l.value=!0;try{let N=await I.value.validate(),Y=a.value=="Editar";if(N){let J={...D.value};J.profilePic=q.value.thumbnail!=null?q.value:null;let $=Y?"Usuario actualizado correctamente":"Usuario creado correctamente",ae=null;Y?ae=await le.put(`/api/user/me/${J.usuarioId}`,J):(J.empresaId=0,J.usuarioId=0,J.joinDate=new Date,ae=await le.post("/api/user/me/",J)),M(ae),Ae.create({message:$,html:!0,color:"positive",icon:"thumb_up_alt",position:"top",actions:[{icon:"close",color:"white",round:!0,handler:()=>{}}]})}l.value=!1}catch(N){l.value=!1;let Y=(L=(U=(F=N.response)==null?void 0:F.data)==null?void 0:U.detail)!=null?L:N.message;Ae.create({message:`${Y}`,html:!0,color:"negative",icon:"error",position:"top",actions:[{icon:"close",color:"white",round:!0,handler:()=>{}}]})}},p=()=>{v()},R=T(180),P=F=>new Promise((U,L)=>{const N=new FileReader;N.onload=Y=>{const J=new Image;J.src=Y.target.result,q.value.original=Y.target.result.split(",")[1],J.onload=()=>U(J)},N.onerror=L,N.readAsDataURL(F)}),z=async F=>{const U=pt(),L=await P(F),N=document.createElement("canvas"),Y=L.width/L.height;N.width=R.value,N.height=N.width/Y,await U.resize(L,N),N.toBlob($=>{const ae=URL.createObjectURL($);D.value.profilePic.thumbnail=ae,D.value.profilePic.loaded=!0},"image/jpeg");let J=N.toDataURL().split(",")[1];q.value.thumbnail=J};return Qe(f,async F=>{await z(F)}),c(),(F,U)=>(ie(),se(Ve,{ref_key:"dialogRef",ref:g,onHide:X(B),"backdrop-filter":"blur(7px)",persistent:""},{default:W(()=>[G(xe,{class:"q-dialog-card",style:{width:"450px","max-width":"80vw"}},{default:W(()=>[G(ut,{ref_key:"form",ref:I,onSubmit:Ye(_,["prevent","stop"]),autocomplete:"false"},{default:W(()=>[G(ge,{class:"row items-center"},{default:W(()=>[G(re,{name:"person",color:"primary",size:"24px"}),U[10]||(U[10]=me("\xA0")),V("div",It,ye(a.value)+" Usuario ",1),G(de),G(te,{icon:"color_lens",color:"positive",flat:"",round:"",dense:"",onClick:X(Q)},null,8,["onClick"]),Xe(G(te,{icon:"close",flat:"",round:"",dense:""},null,512),[[rt]])]),_:1}),G(ve),l.value?(ie(),se(At,{key:0,indeterminate:""})):ue("",!0),G(ge,null,{default:W(()=>[l.value?(ie(),Je("div",_t,[G(ct,{color:"primary",size:"50px"})])):ue("",!0),V("div",bt,[V("div",wt,[G(Ke,{size:R.value+"px",class:"cursor-pointer",onClick:H,"font-size":D.value.profilePic.loaded?"0px":R.value-R.value*.1+"px",color:"grey","text-color":"white",icon:"person"},{default:W(()=>[G(ft,{src:D.value.profilePic.thumbnail},null,8,["src"])]),_:1},8,["size","font-size"])]),G(vt,Z({ref_key:"imageLoader",ref:i,modelValue:f.value,"onUpdate:modelValue":U[0]||(U[0]=L=>f.value=L)},X(k),{class:"hidden q-pt-sm","max-file-size":h.value,onRejected:O,label:"Foto de Perf\xEDl"}),null,16,["modelValue","max-file-size"]),G(ne,Z({rules:y,"lazy-rules":"",error:E.value.error,"error-message":E.value.message,disable:a.value!="Crear",autocomplete:"false"},X(k),{modelValue:D.value.userName,"onUpdate:modelValue":U[1]||(U[1]=L=>D.value.userName=L),label:"Nombre de Usuario"}),{prepend:W(()=>[G(re,{name:"assignment_ind"})]),_:1},16,["error","error-message","disable","modelValue"]),G(ne,Z({rules:C},X(k),{autocomplete:"false",modelValue:D.value.nombreCompleto,"onUpdate:modelValue":U[2]||(U[2]=L=>D.value.nombreCompleto=L),label:"Nombre Completo"}),{prepend:W(()=>[G(re,{name:"person"})]),_:1},16,["modelValue"]),G(ne,Z({rules:C},X(k),{autocomplete:"false",modelValue:D.value.cargo,"onUpdate:modelValue":U[3]||(U[3]=L=>D.value.cargo=L),label:"Cargo"}),{prepend:W(()=>[G(re,{name:"work"})]),_:1},16,["modelValue"]),G(ne,Z({rules:C},X(k),{autocomplete:"false",modelValue:D.value.email,"onUpdate:modelValue":U[4]||(U[4]=L=>D.value.email=L),label:"Email"}),{prepend:W(()=>[G(re,{name:"email"})]),_:1},16,["modelValue"]),G(ne,Z({rules:C},X(k),{autocomplete:"false",modelValue:D.value.telefono,"onUpdate:modelValue":U[5]||(U[5]=L=>D.value.telefono=L),label:"Telefono"}),{prepend:W(()=>[G(re,{name:"call"})]),_:1},16,["modelValue"]),G(Se,Z(X(k),{rules:C,modelValue:A.value,"onUpdate:modelValue":[U[6]||(U[6]=L=>A.value=L),o],options:t.value,"option-value":"rolId","option-label":"nombre","emit-value":"","map-options":"",multiple:"",label:"Roles",clearable:""}),{prepend:W(()=>[G(re,{name:"admin_panel_settings"})]),_:1},16,["modelValue","options"]),a.value!="Crear"?(ie(),se(Ze,{key:0,label:"Cambiar Contrase\xF1a",modelValue:n.value,"onUpdate:modelValue":U[7]||(U[7]=L=>n.value=L)},null,8,["modelValue"])):ue("",!0),a.value=="Crear"||n.value?(ie(),se(ne,Z({key:1,autocomplete:"false",rules:m,type:"password"},X(k),{modelValue:s.value,"onUpdate:modelValue":U[8]||(U[8]=L=>s.value=L),label:"Contrase\xF1a"}),null,16,["modelValue"])):ue("",!0),a.value=="Crear"||n.value?(ie(),se(ne,Z({key:2,autocomplete:"new-password",rules:b,type:"password"},X(k),{modelValue:e.value,"onUpdate:modelValue":[U[9]||(U[9]=L=>e.value=L),u],label:"Repita Contrase\xF1a"}),null,16,["modelValue"])):ue("",!0)])]),_:1}),G(ve),G($e,{class:"q-pa-md"},{default:W(()=>[G(te,{label:"Cancelar",onClick:p}),G(de),G(te,{label:"Guardar",type:"submit",icon:"save",color:"primary"})]),_:1})]),_:1},512)]),_:1})]),_:1},8,["onHide"]))}};const Ct={class:"row q-pa-md items-center"},Bt={class:"q-pa-md"},Et={class:"row q-pa-sm"},Qt={class:"col-5 q-pt-sm text-caption"},yt={class:"col-4"},xt={class:"row"},Dt={class:"col-2"},Ft={class:"col-7"},kt={class:"print-hide"},jt={__name:"UsersPage",setup(S){et(v=>({"62b4da86":X(M).primaryLg40}));const j=Fe(),{locale:x}=lt(),{configUI:Q}=De(),{leftDrawer:k,currentPalette:w,defaultPalette:d,curLang:r,currentInput:a}=Ee(j),n=T(!1),s=T([]),e=async()=>{h.value=!0,j.closeLeftDrawer(),await A(500),print(),h.value=!1},t=async()=>{var v,C,m;try{he.create({component:we,componentProps:{usuarioId:0,accion:"Crear"}}).onOk(()=>{B()}).onCancel(()=>{}).onDismiss(()=>{})}catch(b){let y=(m=(C=(v=b.response)==null?void 0:v.data)==null?void 0:C.detail)!=null?m:b.message;Ae.create({message:`${y}`,html:!0,color:"negative",icon:"error",position:"top",actions:[{icon:"close",color:"white",round:!0,handler:()=>{}}]})}},I=v=>{he.create({component:we,componentProps:{usuarioId:v.usuarioId,accion:"Editar"}}).onOk(C=>{B()}).onCancel(()=>{console.log("Operaci\xF3n cancelada")})},l=v=>{he.create({title:"Confirmar",message:`\xBFRealmente desea eliminar al usuario "${v.nombreCompleto}"?`,cancel:!0,persistent:!0,class:"text-negative",cancel:{label:"Cancelar"},ok:{color:"negative",label:"Si"}}).onOk(C=>{console.log(">>>> Datos Empresa",C)}).onCancel(()=>{}).onDismiss(()=>{})},A=v=>new Promise(C=>setTimeout(C,v)),f=T(k.value),h=T(!1),i=()=>{f.value?j.openLeftDrawer():j.closeLeftDrawer(),h.value=!1},g=[{name:"userName",align:"left",label:"Nombre de Usuario",field:"userName",sortable:!0},{name:"nombreCompleto",align:"left",label:"Nombre Completo",field:"nombreCompleto",sortable:!0},{name:"cargo",align:"left",label:"Cargo",field:"cargo",sortable:!0},{name:"email",align:"left",label:"Email",field:"email",sortable:!0},{name:"telefono",align:"left",label:"Tel\xE9fono",field:"telefono",sortable:!0},{name:"actions",align:"center",label:"Acciones"}],B=async()=>{var C,m,b;n.value=!0;try{var v=await le.get("/api/user/me");s.value=v.data,n.value=!1}catch(y){n.value=!1;let E=(b=(m=(C=y.response)==null?void 0:C.data)==null?void 0:m.detail)!=null?b:y.message;Ae.create({message:`${E}`,html:!0,color:"negative",icon:"error",position:"top",actions:[{icon:"close",color:"white",round:!0,handler:()=>{}}]})}};B(),tt(()=>{x.value=r.value.value,window.addEventListener("afterprint",i)}),at(()=>{window.removeEventListener("afterprint",i)});const M=w.value.isSet?w:d;return Qe(r,v=>{x.value=v.value}),(v,C)=>(ie(),se(st,null,{default:W(()=>[V("div",Ct,[C[1]||(C[1]=V("span",{class:"text-h6 print-hide"},"Mantenedor de Usuarios",-1)),G(de),G(te,{icon:"color_lens",color:"positive",class:"print-hide",flat:"",round:"",dense:"",onClick:C[0]||(C[0]=m=>X(Q)(v.forceRender))})]),C[6]||(C[6]=V("div",{class:"row q-pa-md column items-center print-only"},[V("span",{class:"col text-h6"},"Usuarios del Sistema")],-1)),V("div",Bt,[G(xe,{class:"print-hide report-controls",dense:X(a).dense},{default:W(()=>[G(ge,null,{default:W(()=>[V("div",Et,[C[4]||(C[4]=V("div",{class:"col-3 text-left"},[V("span",{class:"text-h6"},"Usuarios del Sistema")],-1)),V("div",Qt,[G(te,{label:"Nuevo",icon:"add_circle",color:"positive",onClick:t})]),V("div",yt,[V("div",xt,[C[3]||(C[3]=V("div",{class:"col-3"},"\xA0",-1)),V("div",Dt,[G(te,{round:"",color:"positive",icon:"print",onClick:e},{default:W(()=>[G(nt,{class:"print-hide",anchor:"bottom middle",self:"top middle",offset:[10,10]},{default:W(()=>C[2]||(C[2]=[V("strong",null,"Tip:",-1),me(),V("em",null,"Este es un tip",-1)])),_:1})]),_:1})]),V("div",Ft,[G(it,Z(X(a),{class:"text-white"}),null,16)])])])])]),_:1})]),_:1},8,["dense"]),G(ve),G(ot,{rows:s.value,columns:g,"row-key":"usuarioId",bordered:"",dense:"","table-header-class":"report-header",separator:"cell"},{"header-cell-actions":W(m=>[V("th",kt,ye(m.col.label),1)]),"body-cell-actions":W(m=>[G(ht,{props:m,class:"print-hide"},{default:W(()=>[G(te,{icon:"mode_edit",round:"",size:"sm",color:"primary",onClick:b=>I(m.row)},null,8,["onClick"]),C[5]||(C[5]=me("\xA0 ")),G(te,{icon:"delete",round:"",size:"sm",color:"negative",onClick:b=>l(m.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows"])])]),_:1}))}};export{jt as default};
